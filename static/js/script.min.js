async function detectCamera(){const e=document.querySelector("video"),t=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"enviroment"}}});if(e.srcObject=t,t.getVideoTracks().length>0){const e=document.querySelector(".camera-toestaan");e&&e.classList.add("onzichtbaar")}await e.play(),detectBarcode(e)}async function detectBarcode(e){window.setInterval((async()=>{const t=new BarcodeDetector({formats:["ean_13"]}),a=await t.detect(e);if(!(a.length<=0)){const e=a[0].rawValue,t=document.getElementById("zoekveld");t.value=parseInt(e),13==t.value.length&&document.querySelector("header form").submit()}}),1e3)}detectCamera(),"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js").then((e=>console.log("Service worker registered",e))).catch((e=>console.log("Service worker not registered",e)));
